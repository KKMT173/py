<html>
<head>
    <meta charset="UTF-8">
    <title>Checklist report</title>
    {% load static %}
    {% load bootstrap5 %}
    {% bootstrap_css %}
    <style>
        .col {
          display: flex;
          justify-content: center;
          align-items: center;
        }
        #bth1 {
            position: absolute;
            top: 20px; /* ปรับตำแหน่งตามที่คุณต้องการ */
            right: 20px; /* ปรับตำแหน่งตามที่คุณต้องการ */
        }
        #bth2 {
            position: absolute;
            top: 50px; /* ปรับตำแหน่งตามที่คุณต้องการ */
            right: 20px; /* ปรับตำแหน่งตามที่คุณต้องการ */
        }
        #logout{
            position: absolute
            top: 50px;
            right: 20px;

        }
        /* เพิ่มสไตล์สำหรับแถวที่มี item.id เป็น None */
        table.table tbody#tr2 tr[data-item-id="None"] {
            background-color: #D0D0D0; /* สีเทา */
        }
        table, th, td {
          border: 0.5px solid black;
          border-collapse: collapse;
        }
    </style>
</head>
<body>
    <div class="col">
            <img src="{% static 'pic/P1.PNG' %}" class="rounded" alt="nidec" width="160px" height="85px"> <br><br>
     </div>

        {% if unity_check.3 == 1 %}
            <div class="col">
                  <br><br> <h4>{{ unity_check.4 }} </h4>
            </div>
            <div class="col">
                   <br> <h4>Department : {{ unity_check.1 }}&nbsp;&nbsp;&nbsp;&nbsp; Area : {{ unity_check.2 }}</h4>
                <br><br>
            </div>
            <table class="table">
                 <thead>
                        <tr>
                            <th>หมวด</th>
                            <th>เรื่อง</th>
                            <th>รายละเอียด</th>
                            <th class = "text-center">Jan</th>
                            <th class = "text-center">Feb</th>
                            <th class = "text-center">Mar</th>
                            <th class = "text-center">Apr</th>
                            <th class = "text-center">May</th>
                            <th class = "text-center">Jun</th>
                            <th class = "text-center">Jul</th>
                            <th class = "text-center">Aug</th>
                            <th class = "text-center">Sep</th>
                            <th class = "text-center">Oct</th>
                            <th class = "text-center">Nov</th>
                            <th class = "text-center">Dec</th>
                        </tr>
                 </thead>
                <tbody id="tr1">
                    {% for item in report_data %}
                    <tr>
                        <td>
                            {% ifchanged item.Head %}
                                {{ item.Head }}
                            {% endifchanged %}
                        </td>
                        <td>
                            {% ifchanged item.subhead %}
                                {{ item.subhead }}
                            {% endifchanged %}
                        </td>
                        <td>{{ item.LineDetail }}</td>
                        <td class = "text-center">{% if item.valuecheck1 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                        <td class = "text-center">{% if item.valuecheck2 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                        <td class = "text-center">{% if item.valuecheck3 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                        <td class = "text-center">{% if item.valuecheck4 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                        <td class = "text-center">{% if item.valuecheck5 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                        <td class = "text-center">{% if item.valuecheck6 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                        <td class = "text-center">{% if item.valuecheck7 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                        <td class = "text-center">{% if item.valuecheck8 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                        <td class = "text-center">{% if item.valuecheck9 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                        <td class = "text-center">{% if item.valuecheck10 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                        <td class = "text-center">{% if item.valuecheck11 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                        <td class = "text-center">{% if item.valuecheck12 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                        <!-- เพิ่มคอลัมน์สำหรับ Value 3 ถึง Value 12 ตามต้องการ -->
                    </tr>
                    {% endfor %}
                </tbody>
                <tbody id="tr11">
                    <tr>
                        <td><h6> Inspected by: </h6></td>
                        <td>( {{ user_list_data.1 }} )</td>
                        <td></td>
                        <td>
                            {% if report_data_ch.0 %}
                                {{ report_data_ch.0 }}
                            {% endif %}
                        </td>
                        <td>
                            {% if report_data_ch.1 %}
                                {{ report_data_ch.1 }}
                            {% endif %}
                        </td>
                        <td>
                            {% if report_data_ch.2 %}
                                {{ report_data_ch.2 }}
                            {% endif %}
                        </td>
                        <td>
                            {% if report_data_ch.3 %}
                                {{ report_data_ch.3 }}
                            {% endif %}
                        </td>
                        <td>
                            {% if report_data_ch.4 %}
                                {{ report_data_ch.4 }}
                            {% endif %}
                        </td>
                        <td>
                            {% if report_data_ch.5 %}
                                {{ report_data_ch.5 }}
                            {% endif %}
                        </td>
                        <td>
                            {% if report_data_ch.6 %}
                                {{ report_data_ch.6 }}
                            {% endif %}
                        </td>
                        <td>
                            {% if report_data_ch.7 %}
                                {{ report_data_ch.7 }}
                            {% endif %}
                        </td>
                        <td>
                            {% if report_data_ch.8 %}
                                {{ report_data_ch.8 }}
                            {% endif %}
                        </td>
                        <td>
                            {% if report_data_ch.9 %}
                                {{ report_data_ch.9 }}
                            {% endif %}
                        </td>
                        <td>
                            {% if report_data_ch.10 %}
                                {{ report_data_ch.10 }}
                            {% endif %}
                        </td>
                        <td>
                            {% if report_data_ch.11 %}
                                {{ report_data_ch.11 }}
                            {% endif %}
                        </td>
                    </tr>
                    <tr>
                        <td><h6> Checked by: </h6></td>
                        <td>( {{ user_list_data.2 }} )</td>
                        <td></td>
                        <td>
                            {% if report_data_ch.12 %}
                                {{ report_data_ch.12 }}
                            {% elif report_data_ch.0 and report_data_ch.12 is null and request.session.M_username is not null and request.session.M_user_index == unity_check.8 %}
                                <form method="post" action="{% url 'check_action' %}">
                                    {% csrf_token %}
                                    <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                    <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                    <input type="hidden" name="month_check" value="1">
                                    <button type="submit">Check</button>
                                </form>
                                <form method="post" action="{% url 're_check_action' %}">
                                    {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                    <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                    <input type="hidden" name="month_check" value="1">
                                    <button type="submit">Not Checked</button>
                                </form>
                            {% endif %}
                        </td>
                        <td>
                            {% if report_data_ch.13 %}
                                {{ report_data_ch.13 }}
                            {% elif report_data_ch.1 and report_data_ch.13 is null and request.session.M_username is not null and request.session.M_user_index == unity_check.8 %}
                                <form method="post" action="{% url 'check_action' %}">
                                    {% csrf_token %}
                                    <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                    <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                    <input type="hidden" name="month_check" value="2">
                                    <button type="submit">Check</button>
                                </form>
                                <form method="post" action="{% url 're_check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="2">
                                        <button type="submit">Not Checked</button>
                                </form>
                            {% endif %}
                        </td>
                        <td>
                            {% if report_data_ch.14 %}
                                {{ report_data_ch.14 }}
                            {% elif report_data_ch.2 and report_data_ch.14 is null and request.session.M_username is not null and request.session.M_user_index == unity_check.8 %}
                                <form method="post" action="{% url 'check_action' %}">
                                    {% csrf_token %}
                                    <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                    <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                    <input type="hidden" name="month_check" value="3">
                                    <button type="submit">Check</button>
                                </form>
                                <form method="post" action="{% url 're_check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="3">
                                        <button type="submit">Not Checked</button>
                                </form>
                            {% endif %}
                        </td>
                        <td>
                            {% if report_data_ch.15 %}
                                {{ report_data_ch.15 }}
                            {% elif report_data_ch.3 and report_data_ch.15 is null and request.session.M_username is not null and request.session.M_user_index == unity_check.8 %}
                                <form method="post" action="{% url 'check_action' %}">
                                    {% csrf_token %}
                                    <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                    <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                    <input type="hidden" name="month_check" value="4">
                                    <button type="submit">Check</button>
                                </form>
                                <form method="post" action="{% url 're_check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="4">
                                        <button type="submit">Not Checked</button>
                                </form>
                            {% endif %}
                        </td>
                        <td>
                            {% if report_data_ch.16 %}
                                {{ report_data_ch.16 }}
                            {% elif report_data_ch.4 and report_data_ch.16 is null and request.session.M_username is not null and request.session.M_user_index == unity_check.8 %}
                                <form method="post" action="{% url 'check_action' %}">
                                    {% csrf_token %}
                                    <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                    <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                    <input type="hidden" name="month_check" value="5">
                                    <button type="submit">Check</button>
                                </form>
                                <form method="post" action="{% url 're_check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="5">
                                        <button type="submit">Not Checked</button>
                                </form>
                            {% endif %}
                        </td>
                        <td>
                            {% if report_data_ch.17 %}
                                {{ report_data_ch.17 }}
                            {% elif report_data_ch.5 and report_data_ch.17 is null and request.session.M_username is not null and request.session.M_user_index == unity_check.8 %}
                                <form method="post" action="{% url 'check_action' %}">
                                    {% csrf_token %}
                                    <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                    <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                    <input type="hidden" name="month_check" value="6">
                                    <button type="submit">Check</button>
                                </form>
                                <form method="post" action="{% url 're_check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="6">
                                        <button type="submit">Not Checked</button>
                                </form>
                            {% endif %}
                        </td>
                        <td>
                            {% if report_data_ch.18 %}
                                {{ report_data_ch.18 }}
                            {% elif report_data_ch.6 and report_data_ch.18 is null and request.session.M_username is not null and request.session.M_user_index == unity_check.8 %}
                                <form method="post" action="{% url 'check_action' %}">
                                    {% csrf_token %}
                                    <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                    <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                    <input type="hidden" name="month_check" value="7">
                                    <button type="submit">Check</button>
                                </form>
                                <form method="post" action="{% url 're_check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="7">
                                        <button type="submit">Not Checked</button>
                                </form>
                            {% endif %}
                        </td>
                        <td>
                            {% if report_data_ch.19 %}
                                {{ report_data_ch.19 }}
                            {% elif report_data_ch.7 and report_data_ch.19 is null and request.session.M_username is not null and request.session.M_user_index == unity_check.8 %}
                                <form method="post" action="{% url 'check_action' %}">
                                    {% csrf_token %}
                                    <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                    <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                    <input type="hidden" name="month_check" value="8">
                                    <button type="submit">Check</button>
                                </form>
                                <form method="post" action="{% url 're_check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="8">
                                        <button type="submit">Not Checked</button>
                                </form>
                            {% endif %}
                        </td>
                        <td>
                            {% if report_data_ch.20 %}
                                {{ report_data_ch.20 }}
                            {% elif report_data_ch.8 and report_data_ch.20 is null and request.session.M_username is not null and request.session.M_user_index == unity_check.8 %}
                                <form method="post" action="{% url 'check_action' %}">
                                    {% csrf_token %}
                                    <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                    <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                    <input type="hidden" name="month_check" value="9">
                                    <button type="submit">Check</button>
                                </form>
                                <form method="post" action="{% url 're_check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="9">
                                        <button type="submit">Not Checked</button>
                                </form>
                            {% endif %}
                        </td>
                        <td>
                            {% if report_data_ch.21 %}
                                {{ report_data_ch.21 }}
                            {% elif report_data_ch.9 and report_data_ch.21 is null and request.session.M_username is not null and request.session.M_user_index == unity_check.8 %}
                                <form method="post" action="{% url 'check_action' %}">
                                    {% csrf_token %}
                                    <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                    <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                    <input type="hidden" name="month_check" value="10">
                                     <button type="submit">Check</button>
                                </form>
                                <form method="post" action="{% url 're_check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="10">
                                        <button type="submit">Not Checked</button>
                                </form>
                            {% endif %}
                        </td>
                        <td>
                            {% if report_data_ch.22 %}
                                {{ report_data_ch.22 }}
                            {% elif report_data_ch.10 and report_data_ch.22 is null and request.session.M_username is not null and request.session.M_user_index == unity_check.8 %}
                                <form method="post" action="{% url 'check_action' %}">
                                    {% csrf_token %}
                                    <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                    <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                    <input type="hidden" name="month_check" value="11">
                                     <button type="submit">Check</button>
                                </form>
                                <form method="post" action="{% url 're_check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="11">
                                        <button type="submit">Not Checked</button>
                                </form>
                            {% endif %}
                        </td>
                        <td>
                            {% if report_data_ch.23 %}
                                {{ report_data_ch.23 }}
                            {% elif report_data_ch.11 and report_data_ch.23 is null and request.session.M_username is not null and request.session.M_user_index == unity_check.8 %}
                                <form method="post" action="{% url 'check_action' %}">
                                    {% csrf_token %}
                                    <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                    <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                    <input type="hidden" name="month_check" value="12">
                                     <button type="submit">Check</button>
                                </form>
                                <form method="post" action="{% url 're_check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="12">
                                        <button type="submit">Not Checked</button>
                                </form>
                            {% endif %}
                        </td>
                    </tr>
                    <tr>
                        <td><h6> Approved by: </h6></td>
                        <td>( {{ user_list_data.0 }} )</td>
                        <td></td>
                        <td>
                            {% if report_data_ch.24 %}
                                {{ report_data_ch.24 }}
                            {% elif report_data_ch.12 and report_data_ch.24 is null and request.session.M_username is not null and request.session.M_user_index == unity_check.9 %}
                                <form method="post" action="{% url 'check_action2' %}">
                                    {% csrf_token %}
                                    <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                    <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                    <input type="hidden" name="month_check2" value="1">
                                    <button type="submit">Approve</button>
                                </form>
                                <form method="post" action="{% url 're_check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="1">
                                        <button type="submit">Not approved</button>
                                </form>
                            {% endif %}
                        </td>
                        <td>
                            {% if report_data_ch.25 %}
                                {{ report_data_ch.25 }}
                            {% elif report_data_ch.13 and report_data_ch.25 is null and request.session.M_username is not null and request.session.M_user_index == unity_check.9 %}
                                <form method="post" action="{% url 'check_action2' %}">
                                    {% csrf_token %}
                                    <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                    <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                    <input type="hidden" name="month_check2" value="2">
                                    <button type="submit">Approve</button>
                                </form>
                                <form method="post" action="{% url 're_check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="2">
                                        <button type="submit">Not approved</button>
                                </form>
                            {% endif %}
                        </td>
                        <td>
                            {% if report_data_ch.26 %}
                                {{ report_data_ch.26 }}
                            {% elif report_data_ch.14 and report_data_ch.26 is null and request.session.M_username is not null and request.session.M_user_index == unity_check.9 %}
                                <form method="post" action="{% url 'check_action2' %}">
                                    {% csrf_token %}
                                    <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                    <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                    <input type="hidden" name="month_check2" value="3">
                                    <button type="submit">Approve</button>
                                </form>
                                <form method="post" action="{% url 're_check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="3">
                                        <button type="submit">Not approved</button>
                                </form>
                            {% endif %}
                        </td>
                        <td>
                            {% if report_data_ch.27 %}
                                {{ report_data_ch.27 }}
                            {% elif report_data_ch.15 and report_data_ch.27 is null and request.session.M_username is not null and request.session.M_user_index == unity_check.9 %}
                                <form method="post" action="{% url 'check_action2' %}">
                                    {% csrf_token %}
                                    <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                    <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                    <input type="hidden" name="month_check2" value="4">
                                    <button type="submit">Approve</button>
                                </form>
                                <form method="post" action="{% url 're_check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="4">
                                        <button type="submit">Not approved</button>
                                </form>
                            {% endif %}
                        </td>
                        <td>
                            {% if report_data_ch.28 %}
                                {{ report_data_ch.28 }}
                            {% elif report_data_ch.16 and report_data_ch.28 is null and request.session.M_username is not null and request.session.M_user_index == unity_check.9 %}
                                <form method="post" action="{% url 'check_action2' %}">
                                    {% csrf_token %}
                                    <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                    <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                    <input type="hidden" name="month_check2" value="5">
                                    <button type="submit">Approve</button>
                                </form>
                                <form method="post" action="{% url 're_check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="5">
                                        <button type="submit">Not approved</button>
                                </form>
                            {% endif %}
                        </td>
                        <td>
                            {% if report_data_ch.29 %}
                                {{ report_data_ch.29 }}
                            {% elif report_data_ch.17 and report_data_ch.29 is null and request.session.M_username is not null and request.session.M_user_index == unity_check.9 %}
                                <form method="post" action="{% url 'check_action2' %}">
                                    {% csrf_token %}
                                    <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                    <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                    <input type="hidden" name="month_check2" value="6">
                                    <button type="submit">Approve</button>
                                </form>
                                <form method="post" action="{% url 're_check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="6">
                                        <button type="submit">Not approved</button>
                                </form>
                            {% endif %}
                        </td>
                        <td>
                            {% if report_data_ch.30 %}
                                {{ report_data_ch.30 }}
                            {% elif report_data_ch.18 and report_data_ch.30 is null and request.session.M_username is not null and request.session.M_user_index == unity_check.9 %}
                                <form method="post" action="{% url 'check_action2' %}">
                                    {% csrf_token %}
                                    <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                    <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                    <input type="hidden" name="month_check2" value="7">
                                    <button type="submit">Approve</button>
                                </form>
                                <form method="post" action="{% url 're_check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="7">
                                        <button type="submit">Not approved</button>
                                </form>
                            {% endif %}
                        </td>
                        <td>
                            {% if report_data_ch.31 %}
                                {{ report_data_ch.31 }}
                            {% elif report_data_ch.19 and report_data_ch.31 is null and request.session.M_username is not null and request.session.M_user_index == unity_check.9 %}
                                <form method="post" action="{% url 'check_action2' %}">
                                    {% csrf_token %}
                                    <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                    <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                    <input type="hidden" name="month_check2" value="8">
                                    <button type="submit">Approve</button>
                                </form>
                                <form method="post" action="{% url 're_check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="8">
                                        <button type="submit">Not approved</button>
                                </form>
                            {% endif %}
                        </td>
                        <td>
                            {% if report_data_ch.32 %}
                                {{ report_data_ch.32 }}
                            {% elif report_data_ch.20 and report_data_ch.32 is null and request.session.M_username is not null and request.session.M_user_index == unity_check.9 %}
                                <form method="post" action="{% url 'check_action2' %}">
                                    {% csrf_token %}
                                    <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                    <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                    <input type="hidden" name="month_check2" value="9">
                                    <button type="submit">Approve</button>
                                </form>
                                <form method="post" action="{% url 're_check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="9">
                                        <button type="submit">Not approved</button>
                                </form>
                            {% endif %}
                        </td>
                        <td>
                            {% if report_data_ch.33 %}
                                {{ report_data_ch.33 }}
                            {% elif report_data_ch.21 and report_data_ch.33 is null and request.session.M_username is not null and request.session.M_user_index == unity_check.9 %}
                                <form method="post" action="{% url 'check_action2' %}">
                                    {% csrf_token %}
                                    <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                    <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                    <input type="hidden" name="month_check2" value="10">
                                    <button type="submit">Approve</button>
                                </form>
                                <form method="post" action="{% url 're_check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="10">
                                        <button type="submit">Not approved</button>
                                </form>
                            {% endif %}
                        </td>
                        <td>
                            {% if report_data_ch.34 %}
                                {{ report_data_ch.34 }}
                            {% elif report_data_ch.22 and report_data_ch.34 is null and request.session.M_username is not null and request.session.M_user_index == unity_check.9 %}
                                <form method="post" action="{% url 'check_action2' %}">
                                    {% csrf_token %}
                                    <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                    <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                    <input type="hidden" name="month_check2" value="11">
                                    <button type="submit">Approve</button>
                                </form>
                                <form method="post" action="{% url 're_check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="11">
                                        <button type="submit">Not approved</button>
                                </form>
                            {% endif %}
                        </td>
                        <td>
                            {% if report_data_ch.35 %}
                                {{ report_data_ch.35 }}
                            {% elif report_data_ch.23 and report_data_ch.35 is null and request.session.M_username is not null and request.session.M_user_index == unity_check.9 %}
                                <form method="post" action="{% url 'check_action2' %}">
                                    {% csrf_token %}
                                    <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                    <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                    <input type="hidden" name="month_check2" value="12">
                                    <button type="submit">Approve</button>
                                </form>
                                <form method="post" action="{% url 're_check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="12">
                                        <button type="submit">Not approved</button>
                                </form>
                            {% endif %}
                        </td>
                    </tr>
                </tbody>
            </table>
        {% elif unity_check.3 == 2 %}
            <div class="col">
                  <br><br> <h4>{{ unity_check.4 }} </h4>
            </div>
            <div class="col">
                   <br> <h4>Department : {{ unity_check.1 }}&nbsp;&nbsp;&nbsp;&nbsp; Area : {{ unity_check.2 }}</h4>
                <br><br>
            </div>
            <table class="table">
                     <thead>
                            <tr>
                                <th>ชื่ออุปกรณ์</th>
                                <th>รายละเอียดการเช็ค</th>
                                <th>รหัสอุปกรณ์</th>
                                <th class = "text-center">Jan</th>
                                <th class = "text-center">Feb</th>
                                <th class = "text-center">Mar</th>
                                <th class = "text-center">Apr</th>
                                <th class = "text-center">May</th>
                                <th class = "text-center">Jun</th>
                                <th class = "text-center">Jul</th>
                                <th class = "text-center">Aug</th>
                                <th class = "text-center">Sep</th>
                                <th class = "text-center">Oct</th>
                                <th class = "text-center">Nov</th>
                                <th class = "text-center">Dec</th>
                            </tr>
                     </thead>
                    <tbody id="tr2">
                        {% for item in report_data %}
                        <tr data-item-id="{{ item.id }}">
                            <td>
                                {% ifchanged item.Head %}
                                    {{ item.Head }}
                                {% endifchanged %}
                            </td>
                            <td>{{ item.subhead }}</td>
                            <td>
                                {% ifchanged item.LineDetail %}
                                    {% if item.LineDetail %}
                                        {{ item.LineDetail }}
                                    {% endif %}
                                {% endifchanged %}
                            </td>
                            <td class = "text-center">{% if item.valuecheck1 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                            <td class = "text-center">{% if item.valuecheck2 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                            <td class = "text-center">{% if item.valuecheck3 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                            <td class = "text-center">{% if item.valuecheck4 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                            <td class = "text-center">{% if item.valuecheck5 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                            <td class = "text-center">{% if item.valuecheck6 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                            <td class = "text-center">{% if item.valuecheck7 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                            <td class = "text-center">{% if item.valuecheck8 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                            <td class = "text-center">{% if item.valuecheck9 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                            <td class = "text-center">{% if item.valuecheck10 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                            <td class = "text-center">{% if item.valuecheck11 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                            <td class = "text-center">{% if item.valuecheck12 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                            <!-- เพิ่มคอลัมน์สำหรับ Value 3 ถึง Value 12 ตามต้องการ -->
                        </tr>
                        {% endfor %}
                    </tbody>
                    <tbody id="tr21">
                        <tr>
                        <td><h6> Inspected by: </h6></td>
                        <td>( {{ user_list_data.1 }} )</td>
                        <td></td>
                        <td>
                            {% if report_data_ch.0 %}
                                {{ report_data_ch.0 }}
                            {% endif %}
                        </td>
                        <td>
                            {% if report_data_ch.1 %}
                                {{ report_data_ch.1 }}
                            {% endif %}
                        </td>
                        <td>
                            {% if report_data_ch.2 %}
                                {{ report_data_ch.2 }}
                            {% endif %}
                        </td>
                        <td>
                            {% if report_data_ch.3 %}
                                {{ report_data_ch.3 }}
                            {% endif %}
                        </td>
                        <td>
                            {% if report_data_ch.4 %}
                                {{ report_data_ch.4 }}
                            {% endif %}
                        </td>
                        <td>
                            {% if report_data_ch.5 %}
                                {{ report_data_ch.5 }}
                            {% endif %}
                        </td>
                        <td>
                            {% if report_data_ch.6 %}
                                {{ report_data_ch.6 }}
                            {% endif %}
                        </td>
                        <td>
                            {% if report_data_ch.7 %}
                                {{ report_data_ch.7 }}
                            {% endif %}
                        </td>
                        <td>
                            {% if report_data_ch.8 %}
                                {{ report_data_ch.8 }}
                            {% endif %}
                        </td>
                        <td>
                            {% if report_data_ch.9 %}
                                {{ report_data_ch.9 }}
                            {% endif %}
                        </td>
                        <td>
                            {% if report_data_ch.10 %}
                                {{ report_data_ch.10 }}
                            {% endif %}
                        </td>
                        <td>
                            {% if report_data_ch.11 %}
                                {{ report_data_ch.11 }}
                            {% endif %}
                        </td>
                    </tr>
                        <tr>
                            <td><h6> Checked by: </h6></td>
                            <td>( {{ user_list_data.2 }} )</td>
                            <td></td>
                            <td>
                                {% if report_data_ch.12 %}
                                    {{ report_data_ch.12 }}
                                {% elif report_data_ch.0 and report_data_ch.12 is null and request.session.M_username is not null and request.session.M_user_index == unity_check.8 %}
                                    <form method="post" action="{% url 'check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="1">
                                        <button type="submit">Check</button>
                                    </form>
                                    <form method="post" action="{% url 're_check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="1">
                                        <button type="submit">Not Checked</button>
                                    </form>
                                {% endif %}
                            </td>
                            <td>
                                {% if report_data_ch.13 %}
                                    {{ report_data_ch.13 }}
                                {% elif report_data_ch.1 and report_data_ch.13 is null and request.session.M_username is not null and request.session.M_user_index == unity_check.8 %}
                                    <form method="post" action="{% url 'check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="2">
                                        <button type="submit">Check</button>
                                    </form>
                                    <form method="post" action="{% url 're_check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="2">
                                        <button type="submit">Not Checked</button>
                                    </form>
                                {% endif %}
                            </td>
                            <td>
                                {% if report_data_ch.14 %}
                                    {{ report_data_ch.14 }}
                                {% elif report_data_ch.2 and report_data_ch.14 is null and request.session.M_username is not null and request.session.M_user_index == unity_check.8 %}
                                    <form method="post" action="{% url 'check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="3">
                                        <button type="submit">Check</button>
                                    </form>
                                    <form method="post" action="{% url 're_check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="3">
                                        <button type="submit">Not Checked</button>
                                    </form>
                                {% endif %}
                            </td>
                            <td>
                                {% if report_data_ch.15 %}
                                    {{ report_data_ch.15 }}
                                {% elif report_data_ch.3 and report_data_ch.15 is null and request.session.M_username is not null and request.session.M_user_index == unity_check.8 %}
                                    <form method="post" action="{% url 'check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="4">
                                        <button type="submit">Check</button>
                                    </form>
                                    <form method="post" action="{% url 're_check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="4">
                                        <button type="submit">Not Checked</button>
                                    </form>
                                {% endif %}
                            </td>
                            <td>
                                {% if report_data_ch.16 %}
                                    {{ report_data_ch.16 }}
                                {% elif report_data_ch.4 and report_data_ch.16 is null and request.session.M_username is not null and request.session.M_user_index == unity_check.8 %}
                                    <form method="post" action="{% url 'check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="5">
                                        <button type="submit">Check</button>
                                    </form>
                                    <form method="post" action="{% url 're_check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="5">
                                        <button type="submit">Not Checked</button>
                                    </form>
                                {% endif %}
                            </td>
                            <td>
                                {% if report_data_ch.17 %}
                                    {{ report_data_ch.17 }}
                                {% elif report_data_ch.5 and report_data_ch.17 is null and request.session.M_username is not null and request.session.M_user_index == unity_check.8 %}
                                    <form method="post" action="{% url 'check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="6">
                                        <button type="submit">Check</button>
                                    </form>
                                    <form method="post" action="{% url 're_check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="6">
                                        <button type="submit">Not Checked</button>
                                    </form>
                                {% endif %}
                            </td>
                            <td>
                                {% if report_data_ch.18 %}
                                    {{ report_data_ch.18 }}
                                {% elif report_data_ch.6 and report_data_ch.18 is null and request.session.M_username is not null and request.session.M_user_index == unity_check.8 %}
                                    <form method="post" action="{% url 'check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="7">
                                        <button type="submit">Check</button>
                                    </form>
                                    <form method="post" action="{% url 're_check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="7">
                                        <button type="submit">Not Checked</button>
                                    </form>
                                {% endif %}
                            </td>
                            <td>
                                {% if report_data_ch.19 %}
                                    {{ report_data_ch.19 }}
                                {% elif report_data_ch.7 and report_data_ch.19 is null and request.session.M_username is not null and request.session.M_user_index == unity_check.8 %}
                                    <form method="post" action="{% url 'check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="8">
                                        <button type="submit">Check</button>
                                    </form>
                                    <form method="post" action="{% url 're_check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="8">
                                        <button type="submit">Not Checked</button>
                                    </form>
                                {% endif %}
                            </td>
                            <td>
                                {% if report_data_ch.20 %}
                                    {{ report_data_ch.20 }}
                                {% elif report_data_ch.8 and report_data_ch.20 is null and request.session.M_username is not null and request.session.M_user_index == unity_check.8 %}
                                    <form method="post" action="{% url 'check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="9">
                                        <button type="submit">Check</button>
                                    </form>
                                    <form method="post" action="{% url 're_check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="9">
                                        <button type="submit">Not Checked</button>
                                    </form>
                                {% endif %}
                            </td>
                            <td>
                                {% if report_data_ch.21 %}
                                    {{ report_data_ch.21 }}
                                {% elif report_data_ch.9 and report_data_ch.21 is null and request.session.M_username is not null and request.session.M_user_index == unity_check.8 %}
                                    <form method="post" action="{% url 'check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="10">
                                         <button type="submit">Check</button>
                                    </form>
                                    <form method="post" action="{% url 're_check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="10">
                                        <button type="submit">Not Checked</button>
                                    </form>
                                {% endif %}
                            </td>
                            <td>
                                {% if report_data_ch.22 %}
                                    {{ report_data_ch.22 }}
                                {% elif report_data_ch.10 and report_data_ch.22 is null and request.session.M_username is not null and request.session.M_user_index == unity_check.8 %}
                                    <form method="post" action="{% url 'check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="11">
                                         <button type="submit">Check</button>
                                    </form>
                                    <form method="post" action="{% url 're_check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="11">
                                        <button type="submit">Not Checked</button>
                                    </form>
                                {% endif %}
                            </td>
                            <td>
                                {% if report_data_ch.23 %}
                                    {{ report_data_ch.23 }}
                                {% elif report_data_ch.11 and report_data_ch.23 is null and request.session.M_username is not null and request.session.M_user_index == unity_check.8 %}
                                    <form method="post" action="{% url 'check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="12">
                                         <button type="submit">Check</button>
                                    </form>
                                    <form method="post" action="{% url 're_check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="12">
                                        <button type="submit">Not Checked</button>
                                    </form>
                                {% endif %}
                            </td>
                        </tr>
                        <tr>
                            <td><h6> Approved by: </h6></td>
                            <td>( {{ user_list_data.0 }} )</td>
                            <td></td>
                            <td>
                                {% if report_data_ch.24 %}
                                    {{ report_data_ch.24 }}
                                {% elif report_data_ch.12 and report_data_ch.24 is null and request.session.M_username is not null and request.session.M_user_index == unity_check.9 %}
                                    <form method="post" action="{% url 'check_action2' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check2" value="1">
                                        <button type="submit">Approve</button>
                                    </form>
                                    <form method="post" action="{% url 're_check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="1">
                                        <button type="submit">Not approved</button>
                                    </form>
                                {% endif %}
                            </td>
                            <td>
                                {% if report_data_ch.25 %}
                                    {{ report_data_ch.25 }}
                                {% elif report_data_ch.13 and report_data_ch.25 is null and request.session.M_username is not null and request.session.M_user_index == unity_check.9 %}
                                    <form method="post" action="{% url 'check_action2' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check2" value="2">
                                        <button type="submit">Approve</button>
                                    </form>
                                    <form method="post" action="{% url 're_check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="2">
                                        <button type="submit">Not approved</button>
                                    </form>
                                {% endif %}
                            </td>
                            <td>
                                {% if report_data_ch.26 %}
                                    {{ report_data_ch.26 }}
                                {% elif report_data_ch.14 and report_data_ch.26 is null and request.session.M_username is not null and request.session.M_user_index == unity_check.9 %}
                                    <form method="post" action="{% url 'check_action2' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check2" value="3">
                                        <button type="submit">Approve</button>
                                    </form>
                                    <form method="post" action="{% url 're_check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="3">
                                        <button type="submit">Not approved</button>
                                    </form>
                                {% endif %}
                            </td>
                            <td>
                                {% if report_data_ch.27 %}
                                    {{ report_data_ch.27 }}
                                {% elif report_data_ch.15 and report_data_ch.27 is null and request.session.M_username is not null and request.session.M_user_index == unity_check.9 %}
                                    <form method="post" action="{% url 'check_action2' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check2" value="4">
                                        <button type="submit">Approve</button>
                                    </form>
                                    <form method="post" action="{% url 're_check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="4">
                                        <button type="submit">Not approved</button>
                                    </form>
                                {% endif %}
                            </td>
                            <td>
                                {% if report_data_ch.28 %}
                                    {{ report_data_ch.28 }}
                                {% elif report_data_ch.16 and report_data_ch.28 is null and request.session.M_username is not null and request.session.M_user_index == unity_check.9 %}
                                    <form method="post" action="{% url 'check_action2' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check2" value="5">
                                        <button type="submit">Approve</button>
                                    </form>
                                    <form method="post" action="{% url 're_check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="5">
                                        <button type="submit">Not approved</button>
                                    </form>
                                {% endif %}
                            </td>
                            <td>
                                {% if report_data_ch.29 %}
                                    {{ report_data_ch.29 }}
                                {% elif report_data_ch.17 and report_data_ch.29 is null and request.session.M_username is not null and request.session.M_user_index == unity_check.9 %}
                                    <form method="post" action="{% url 'check_action2' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check2" value="6">
                                        <button type="submit">Approve</button>
                                    </form>
                                    <form method="post" action="{% url 're_check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="6">
                                        <button type="submit">Not approved</button>
                                    </form>
                                {% endif %}
                            </td>
                            <td>
                                {% if report_data_ch.30 %}
                                    {{ report_data_ch.30 }}
                                {% elif report_data_ch.18 and report_data_ch.30 is null and request.session.M_username is not null and request.session.M_user_index == unity_check.9 %}
                                    <form method="post" action="{% url 'check_action2' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check2" value="7">
                                        <button type="submit">Approve</button>
                                    </form>
                                     <form method="post" action="{% url 're_check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="7">
                                        <button type="submit">Not approved</button>
                                    </form>
                                {% endif %}
                            </td>
                            <td>
                                {% if report_data_ch.31 %}
                                    {{ report_data_ch.31 }}
                                {% elif report_data_ch.19 and report_data_ch.31 is null and request.session.M_username is not null and request.session.M_user_index == unity_check.9 %}
                                    <form method="post" action="{% url 'check_action2' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check2" value="8">
                                        <button type="submit">Approve</button>
                                    </form>
                                    <form method="post" action="{% url 're_check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="8">
                                        <button type="submit">Not approved</button>
                                    </form>
                                {% endif %}
                            </td>
                            <td>
                                {% if report_data_ch.32 %}
                                    {{ report_data_ch.32 }}
                                {% elif report_data_ch.20 and report_data_ch.32 is null and request.session.M_username is not null and request.session.M_user_index == unity_check.9 %}
                                    <form method="post" action="{% url 'check_action2' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check2" value="9">
                                        <button type="submit">Approve</button>
                                    </form>
                                    <form method="post" action="{% url 're_check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="9">
                                        <button type="submit">Not approved</button>
                                    </form>
                                {% endif %}
                            </td>
                            <td>
                                {% if report_data_ch.33 %}
                                    {{ report_data_ch.33 }}
                                {% elif report_data_ch.21 and report_data_ch.33 is null and request.session.M_username is not null and request.session.M_user_index == unity_check.9 %}
                                    <form method="post" action="{% url 'check_action2' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check2" value="10">
                                        <button type="submit">Approve</button>
                                    </form>
                                    <form method="post" action="{% url 're_check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="10">
                                        <button type="submit">Not approved</button>
                                    </form>
                                {% endif %}
                            </td>
                            <td>
                                {% if report_data_ch.34 %}
                                    {{ report_data_ch.34 }}
                                {% elif report_data_ch.22 and report_data_ch.34 is null and request.session.M_username is not null and request.session.M_user_index == unity_check.9 %}
                                    <form method="post" action="{% url 'check_action2' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check2" value="11">
                                        <button type="submit">Approve</button>
                                    </form>
                                    <form method="post" action="{% url 're_check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="11">
                                        <button type="submit">Not approved</button>
                                    </form>
                                {% endif %}
                            </td>
                            <td>
                                {% if report_data_ch.35 %}
                                    {{ report_data_ch.35 }}
                                {% elif report_data_ch.23 and report_data_ch.35 is null and request.session.M_username is not null and request.session.M_user_index == unity_check.9 %}
                                    <form method="post" action="{% url 'check_action2' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check2" value="12">
                                        <button type="submit">Approve</button>
                                    </form>
                                    <form method="post" action="{% url 're_check_action' %}">
                                        {% csrf_token %}
                                        <!-- เพิ่ม input field สำหรับรับข้อมูลที่ต้องการส่งผ่าน POST -->
                                        <input type="hidden" name="unity_check_4" value="{{ unity_check.0 }}">
                                        <input type="hidden" name="month_check" value="12">
                                        <button type="submit">Not approved</button>
                                    </form>
                                {% endif %}
                            </td>
                        </tr>
                    </tbody>
                </table>
        {% elif unity_check.3 == 3 %}
            <div class="col">
                <h4>{{ unity_check.4 }}</h4>
                <br><br>
            </div>
            <div class="col">
                <h4>Department : {{ unity_check.1 }}&nbsp;&nbsp;&nbsp;&nbsp; Area : {{ unity_check.2 }}</h4>
                <br><br>
            </div>
            <div class="col">
               <h4> Code : {{ report_data.6 }}&nbsp;&nbsp;&nbsp;&nbsp; ชนิดถังดับเพลิง : {{ report_data.7 }}&nbsp;&nbsp;&nbsp;&nbsp; ขนาด : {{ report_data.8 }}</h4>
            </div>
            <table class="table">
                         <thead>
                                <tr>
                                    <th>วันที่ตรวจเช็ค</th>
                                    <th>ผลการตรวจเช็ค</th>
                                    <th>ผู้ตรวจเช็ค</th>
                                    <th>หมายเหตุ</th>
                                </tr>
                         </thead>
                        <tbody id="tr3">
                        {% for item in report_data_ch %}
                           <tr>
                               <td>{{ item.5 }}</td>
                               <td>
                                   {% if item.2 == 1 %}
                                        OK
                                   {% elif item.2 == 2 %}
                                        NO
                                   {% endif %}
                               </td>
                               <td>{{ item.3 }}</td>
                               <td>{{ item.4 }}</td>
                           </tr>
                        {% endfor %}
                        </tbody>
                    </table>
        {% elif unity_check.3 == 4 %}
            <div class="col">
                    {{ unity_check.4 }}
                    <br><br>
             </div>
            <div class="col">
                    รหัสอุปกรณ์ : {{ unity_check.6 }}&nbsp;&nbsp;&nbsp;&nbsp; Area : {{ unity_check.2 }}
                 <br><br>
             </div>
            <table class="table">
                     <thead>
                            <tr>
                                <th>ชื่ออุปกรณ์</th>
                                <th>รายละเอียดการเช็ค</th>
                                <th class = "text-center">Week1</th>
                                <th class = "text-center">Week2</th>
                                <th class = "text-center">Week3</th>
                                <th class = "text-center">Week4</th>
                                <th class = "text-center">Week5</th>

                            </tr>
                     </thead>
                     <tbody id="tr4">
                         {% for item in report_data %}
                            <tr>
                                <td>
                                    {% ifchanged item.Head %}
                                        {{ item.Head }}
                                    {% endifchanged %}
                                </td>
                                <td>{{ item.subhead }}</td>
                                <td class = "text-center">
                                    {% if item.valuecheck1 %}
                                        <span class="checkmark">&#10004;</span>
                                    {% endif %}
                                </td>
                                <td class = "text-center">{% if item.valuecheck2 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                                <td class = "text-center">{% if item.valuecheck3 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                                <td class = "text-center">{% if item.valuecheck4 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                                <td class = "text-center">{% if item.valuecheck5 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                            </tr>
                         {% endfor %}
                     </tbody>
                     <tbody id="tr41">
                         {% for ch in report_data %}
                             {% ifchanged ch.id %}
                             <tr>
                                    <td></td>
                                    <td>
                                           <h5>Inspected by Safety Officer</h5>
                                    </td>
                                    <td>
                                        {% ifchanged ch.user_check1 %}
                                            {% if ch.user_check1 %}
                                                {{ ch.user_check1 }}
                                            {% endif %}
                                        {% endifchanged %}
                                    </td>
                                    <td>
                                        {% ifchanged ch.user_check2 %}
                                            {% if ch.user_check2 %}
                                                {{ ch.user_check2 }}
                                            {% endif %}
                                        {% endifchanged %}
                                    </td>
                                    <td>
                                        {% ifchanged ch.user_check3 %}
                                            {% if ch.user_check3 %}
                                                {{ ch.user_check3 }}
                                            {% endif %}
                                        {% endifchanged %}
                                    </td>
                                    <td>
                                        {% ifchanged ch.user_check4 %}
                                            {% if ch.user_check4 %}
                                                {{ ch.user_check4 }}
                                            {% endif %}
                                        {% endifchanged %}
                                    </td>
                                    <td>
                                        {% ifchanged ch.user_check5 %}
                                            {% if ch.user_check5 %}
                                                {{ ch.user_check5 }}
                                            {% endif %}
                                        {% endifchanged %}
                                    </td>
                             </tr>
                             {% endifchanged %}
                         {% endfor %}
                    </tbody>
            </table>
        {% endif %}
    {% if request.session.M_username %}
    <a href="{% url 'M_logout_view' %}?id={{ unity_check.0 }}" class="btn btn-primary login-button" id="logout">
        Logout
    </a>
    <a href="{% url 'M_checklist_form' unity_check.0 %}" class="btn btn-primary login-button" id="bth2">checklist</a>
    {{ request.session.M_username }}
{% else %}
    <a href="{% url 'M_login' %}?next={% url 'M_checklist_report' unity_check.0 %}" class="btn btn-primary login-button" id="bth1">Login</a>

{% endif %}
<!--    <a href="{% url 'M_checklist_form' unity_check.0 %}" class="btn btn-primary login-button" id="bth2">Continue</a>-->
</body>

</html>
