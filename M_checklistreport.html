<html>
<head>
    <meta charset="UTF-8">
    <title>Checklist report</title>
    {% load static %}
    {% load bootstrap5 %}
    {% bootstrap_css %}
    <style>
        .col {
          display: flex;
          justify-content: center;
          align-items: center;
        }
        #bth1 {
            position: absolute;
            top: 20px; /* ปรับตำแหน่งตามที่คุณต้องการ */
            right: 20px; /* ปรับตำแหน่งตามที่คุณต้องการ */
        }
        #bth2 {
            position: absolute;
            top: 50px; /* ปรับตำแหน่งตามที่คุณต้องการ */
            right: 20px; /* ปรับตำแหน่งตามที่คุณต้องการ */
        }
        #logout{
            position: absolute
            top: 50px;
            right: 20px;

        }
    </style>
</head>
<body>
    <div class="col">
            <img src="{% static 'pic/P1.JPG' %}" class="rounded" alt="nidec" width="160px" height="85px"> <br><br>
     </div>

    <form method="post" onsubmit="logSelectedCheckboxes()">
        {% csrf_token %}

        {% if unity_check.3 == 1 %}
            <div class="col">
                  <br><br> <h4>{{ unity_check.4 }} </h4>
            </div>
            <div class="col">
                   <br> <h4>Department : {{ unity_check.1 }}&nbsp;&nbsp;&nbsp;&nbsp; Area : {{ unity_check.2 }}</h4>
                <br><br>
            </div>
            <table class="table">
                 <thead>
                        <tr>
                            <th>หมวด</th>
                            <th>เรื่อง</th>
                            <th>รายละเอียด</th>
                            <th>Jan</th>
                            <th>Feb</th>
                            <th>Mar</th>
                            <th>Apr</th>
                            <th>May</th>
                            <th>Jun</th>
                            <th>Jul</th>
                            <th>Aug</th>
                            <th>Sep</th>
                            <th>Oct</th>
                            <th>Nov</th>
                            <th>Dec</th>
                        </tr>
                 </thead>
                <tbody id="tr1">
                    {% for item in report_data %}
                    <tr>
                        <td>
                            {% ifchanged item.Head %}
                                {{ item.Head }}
                            {% endifchanged %}
                        </td>
                        <td>
                            {% ifchanged item.subhead %}
                                {{ item.subhead }}
                            {% endifchanged %}
                        </td>
                        <td>{{ item.LineDetail }}</td>
                        <td>{% if item.valuecheck1 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                        <td>{% if item.valuecheck2 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                        <td>{% if item.valuecheck3 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                        <td>{% if item.valuecheck4 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                        <td>{% if item.valuecheck5 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                        <td>{% if item.valuecheck6 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                        <td>{% if item.valuecheck7 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                        <td>{% if item.valuecheck8 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                        <td>{% if item.valuecheck9 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                        <td>{% if item.valuecheck10 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                        <td>{% if item.valuecheck11 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                        <td>{% if item.valuecheck12 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                        <!-- เพิ่มคอลัมน์สำหรับ Value 3 ถึง Value 12 ตามต้องการ -->
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        {% elif unity_check.3 == 2 %}
            <div class="col">
                  <br><br> <h4>{{ unity_check.4 }} </h4>
            </div>
            <div class="col">
                   <br> <h4>Department : {{ unity_check.1 }}&nbsp;&nbsp;&nbsp;&nbsp; Area : {{ unity_check.2 }}</h4>
                <br><br>
            </div>
            <table class="table">
                     <thead>
                            <tr>
                                <th>ชื่ออุปกรณ์</th>
                                <th>รายละเอียดการเช็ค</th>
                                <th>รหัสอุปกรณ์</th>
                                <th>Jan</th>
                                <th>Feb</th>
                                <th>Mar</th>
                                <th>Apr</th>
                                <th>May</th>
                                <th>Jun</th>
                                <th>Jul</th>
                                <th>Aug</th>
                                <th>Sep</th>
                                <th>Oct</th>
                                <th>Nov</th>
                                <th>Dec</th>
                            </tr>
                     </thead>
                    <tbody id="tr2">
                        {% for item in report_data %}
                        <tr>
                            <td>
                                {% ifchanged item.Head %}
                                    {{ item.Head }}
                                {% endifchanged %}
                            </td>
                            <td>{{ item.subhead }}</td>
                            <td>
                                {% ifchanged item.LineDetail %}
                                    {% if item.LineDetail %}
                                        {{ item.LineDetail }}
                                    {% endif %}
                                {% endifchanged %}
                            </td>
                            <td>{% if item.valuecheck1 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                            <td>{% if item.valuecheck2 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                            <td>{% if item.valuecheck3 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                            <td>{% if item.valuecheck4 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                            <td>{% if item.valuecheck5 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                            <td>{% if item.valuecheck6 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                            <td>{% if item.valuecheck7 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                            <td>{% if item.valuecheck8 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                            <td>{% if item.valuecheck9 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                            <td>{% if item.valuecheck10 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                            <td>{% if item.valuecheck11 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                            <td>{% if item.valuecheck12 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                            <!-- เพิ่มคอลัมน์สำหรับ Value 3 ถึง Value 12 ตามต้องการ -->
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
        {% elif unity_check.3 == 3 %}
            <div class="col">
                <h4>{{ unity_check.4 }}</h4>
                <br><br>
            </div>
            <div class="col">
                <h4>Department : {{ unity_check.1 }}&nbsp;&nbsp;&nbsp;&nbsp; Area : {{ unity_check.2 }}</h4>
                <br><br>
            </div>
            <div class="col">
               <h4> Code : {{ report_data.6 }}&nbsp;&nbsp;&nbsp;&nbsp; ชนิดถังดับเพลิง : {{ report_data.7 }}&nbsp;&nbsp;&nbsp;&nbsp; ขนาด : {{ report_data.8 }}</h4>
            </div>
            <table class="table">
                         <thead>
                                <tr>
                                    <th>วันที่ตรวจเช็ค</th>
                                    <th>ผลการตรวจเช็ค</th>
                                    <th>ผู้ตรวจเช็ค</th>
                                    <th>หมายเหตุ</th>
                                </tr>
                         </thead>
                        <tbody id="tr3">
                        {% for item in report_data_ch %}
                           <tr>
                               <td>{{ item.4 }}</td>
                               <td>
                                   {% if item.3 == 1 %}
                                        OK
                                   {% elif item.3 == 2 %}
                                        NO
                                   {% endif %}
                               </td>
                               <td>{{ item.5 }}</td>
                               <td>{{ item.6 }}</td>
                           </tr>
                        {% endfor %}
                        </tbody>
                    </table>
        {% elif unity_check.3 == 4 %}
            <div class="col">
                    {{ unity_check.4 }}
                    <br><br>
             </div>
            <div class="col">
                    รหัสอุปกรณ์ : {{ unity_check.6 }}&nbsp;&nbsp;&nbsp;&nbsp; Area : {{ unity_check.2 }}
                 <br><br>
             </div>
            <table class="table">
                     <thead>
                            <tr>
                                <th>ชื่ออุปกรณ์</th>
                                <th>รายละเอียดการเช็ค</th>
                                <th>Week1</th>
                                <th>Week2</th>
                                <th>Week3</th>
                                <th>Week4</th>
                                <th>Week5</th>

                            </tr>
                     </thead>
                     <tbody id="tr4">
                         {% for item in report_data %}
                            <tr>
                                <td>
                                    {% ifchanged item.Head %}
                                        {{ item.Head }}
                                    {% endifchanged %}
                                </td>
                                <td>{{ item.subhead }}</td>
                                <td>
                                    {% if item.valuecheck1 %}
                                        <span class="checkmark">&#10004;</span>
                                    {% endif %}
                                </td>
                                <td>{% if item.valuecheck2 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                                <td>{% if item.valuecheck3 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                                <td>{% if item.valuecheck4 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                                <td>{% if item.valuecheck5 %}<span class="checkmark">&#10004;</span>{% endif %}</td>
                            </tr>
                         {% endfor %}
                     </tbody>
                     <tbody id="tr41">
                         {% for ch in report_data %}
                             {% ifchanged ch.id %}
                             <tr>
                                    <td></td>
                                    <td>
                                           <h5>Inspected by Safety Officer</h5>
                                    </td>
                                    <td>
                                        {% ifchanged ch.user_check1 %}
                                            {% if ch.user_check1 %}
                                                {{ ch.user_check1 }}
                                            {% endif %}
                                        {% endifchanged %}
                                    </td>
                                    <td>
                                        {% ifchanged ch.user_check2 %}
                                            {% if ch.user_check2 %}
                                                {{ ch.user_check2 }}
                                            {% endif %}
                                        {% endifchanged %}
                                    </td>
                                    <td>
                                        {% ifchanged ch.user_check3 %}
                                            {% if ch.user_check3 %}
                                                {{ ch.user_check3 }}
                                            {% endif %}
                                        {% endifchanged %}
                                    </td>
                                    <td>
                                        {% ifchanged ch.user_check4 %}
                                            {% if ch.user_check4 %}
                                                {{ ch.user_check4 }}
                                            {% endif %}
                                        {% endifchanged %}
                                    </td>
                                    <td>
                                        {% ifchanged ch.user_check5 %}
                                            {% if ch.user_check5 %}
                                                {{ ch.user_check5 }}
                                            {% endif %}
                                        {% endifchanged %}
                                    </td>
                             </tr>
                             {% endifchanged %}
                         {% endfor %}
                    </tbody>
            </table>
        {% endif %}
    </form>
    {% if request.session.M_username %}
    <a href="{% url 'M_logout_view' %}?id={{ unity_check.0 }}" class="btn btn-primary login-button" id="logout">
        Logout
    </a>
    {{ request.session.M_username }}
{% else %}
    <a href="{% url 'M_login' %}?next={% url 'M_checklist_form' unity_check.0 %}" class="btn btn-primary login-button" id="bth1">Login</a>
{% endif %}
<!--    <a href="{% url 'M_checklist_form' unity_check.0 %}" class="btn btn-primary login-button" id="bth2">Continue</a>-->
</body>

</html>
